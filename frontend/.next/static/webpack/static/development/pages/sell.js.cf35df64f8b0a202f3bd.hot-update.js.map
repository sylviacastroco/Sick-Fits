{"version":3,"file":"static/webpack/static/development/pages/sell.js.cf35df64f8b0a202f3bd.hot-update.js","sources":["webpack:///./components/CreateItem.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Router from 'next/router'\nimport Form from './styles/Form';\nimport formatMoney from '../lib/formatMoney';\nimport Error from './ErrorMessage';\n\nconst CREATE_ITEM_MUTATION = gql`\n    mutation CREATE_ITEM_MUTATION(\n        $title: String!\n        $description: String!\n        $price: Int!\n        $image: String\n        $largeImage: String\n      )\n      {\n        createItem(\n          title: $title\n          description: $description\n          price: $price\n          image: $image\n          largeImage: $largeImage\n          )\n        {\n          id\n        }\n      }\n`;\n\nclass CreateItem extends Component {\n  state = {\n    title: 'Cool Shoes',\n    description: 'Love those shoes',\n    image: 'shoe.jpg',\n    largeImage: 'largeshoe.jpg',\n    price: 1000,\n  };\n\n  handleChange = (e) => {\n    const {name, type, value } = e.target;\n    const val = type === 'number' ? parseFloat(value) : value;\n    this.setState({ [name]: val })\n  }\n\n  render() {\n    return (\n      <Mutation mutation={CREATE_ITEM_MUTATION} variables={this.state}>\n        {(createItem, {loading, error}) => (\n\n      <Form\n      onSubmit={ async e => {\n        e.preventDefault();\n        //Stop form from submitting\n        const res = await createItem();\n        // calcl the mutation\n        console.log(res)\n        Router.push({\n          pathname: './item',\n          query: {id: res.data.createItem.id}\n        })\n        //change them to the single item page\n      }}>\n        <Error error={error}/>\n       <fieldset disabled={loading} aria-busy={loading}>\n          <label htmlFor=\"title\">\n            Title\n            <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            placeholder=\"Title\"\n            required\n            value={this.state.title}\n            onChange={this.handleChange}\n            />\n          </label>\n\n          <label htmlFor=\"price\">\n            Price\n            <input\n            type=\"number\"\n            id=\"price\"\n            name=\"price\"\n            placeholder=\"Price\"\n            required\n            value={this.state.price}\n            onChange={this.handleChange}\n            />\n          </label>\n\n          <label htmlFor=\"description\">\n            Description\n            <textarea\n            id=\"description\"\n            name=\"description\"\n            placeholder=\"Enter a Description\"\n            required\n            value={this.state.description}\n            onChange={this.handleChange}\n            />\n          </label>\n          <button type=\"submit\">Submit</button>\n       </fieldset>\n      </Form>\n      )}\n    </Mutation>\n    );\n  }\n}\n\nexport default CreateItem;\nexport { CREATE_ITEM_MUTATION };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAqBA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtDA;AA4DA;;;;AA9EA;AACA;AAgFA;;;;;A","sourceRoot":""}